<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fictional Baseball League Simulator</title>
  <link rel="stylesheet" href="style_v3.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand-badge">‚öæ</div>
      <div>
        <div class="brand-title">Fictional Baseball League Simulator</div>
        <div class="brand-sub">Build teams ‚Ä¢ Upload characters ‚Ä¢ Sim games ‚Ä¢ Save a whole league</div>
      </div>
    </div>

    <nav class="tabs" aria-label="Sections">
      <button class="tab is-active" data-tab="teams">Teams</button>
      <button class="tab" data-tab="roster">Roster</button>
      <button class="tab" data-tab="game">Game</button>
    </nav>
  </header>

  <main class="wrap">
    <!-- TEAMS TAB -->
    <section class="panel is-active" id="tab-teams">
      <div class="grid-2">
        <section class="card">
          <h2>Team Library</h2>
          <p class="muted">Create as many teams as you want (even 300+). Your teams save in your browser.</p>

          <div class="row gap">
            <div class="grow">
              <label for="teamSearch">Search</label>
              <input id="teamSearch" placeholder="Type to filter‚Ä¶ (ex: Tigers)" />
            </div>
            <div style="width: 220px;">
              <label for="sortTeams">Sort</label>
              <select id="sortTeams">
                <option value="name">Name (A‚ÄìZ)</option>
                <option value="updated">Recently edited</option>
                <option value="ovr">Overall (high‚Üílow)</option>
              </select>
            </div>
          </div>

          <div id="teamList" class="teamList" aria-live="polite"></div>

          <div class="row gap wrapline">
            <button id="btnDuplicateTeam" class="btn">Duplicate</button>
            <button id="btnDeleteTeam" class="btn danger">Delete</button>
            <button id="btnExportTeam" class="btn">Export</button>
            <label class="btn ghost fileBtn">
              Import
              <input id="importTeamFile" type="file" accept="application/json,.json" hidden>
            </label>
          </div>

          <div class="notice">
            <strong>Pro tip:</strong> Export gives you a <code>.json</code> file. That‚Äôs how you can back up / share teams without losing anything.
          </div>
        </section>

        <section class="card">
          <h2>Create / Edit Team</h2>

          <div class="row gap">
            <div class="grow">
              <label for="teamName">Team name</label>
              <input id="teamName" placeholder="Euless Thunder" />
            </div>
            <div style="width: 210px;">
              <label for="teamCity">City (optional)</label>
              <input id="teamCity" placeholder="Euless" />
            </div>
          </div>

          <div class="row gap">
            <div class="grow">
              <label for="teamStadium">Stadium (optional)</label>
              <input id="teamStadium" placeholder="Thunder Dome" />
            </div>
            <div style="width: 210px;">
              <label for="teamHomeAdv">Home advantage</label>
              <select id="teamHomeAdv">
                <option value="0">Normal</option>
                <option value="2">Small</option>
                <option value="4">Medium</option>
                <option value="6">Big</option>
              </select>
            </div>
          </div>

          <div class="row gap">
            <div class="grow">
              <label for="teamLogo">Team logo (optional)</label>
              <input id="teamLogo" type="file" accept="image/*" />
              <div class="muted small">You can skip this. Players can still have their own pictures.</div>
            </div>
            <div style="width: 240px;">
              <label>Team colors</label>
              <div class="row gap">
                <input id="teamColor1" type="color" value="#3b82f6" title="Primary color" />
                <input id="teamColor2" type="color" value="#22c55e" title="Secondary color" />
                <input id="teamColor3" type="color" value="#f59e0b" title="Accent color" />
              </div>
              <div class="muted small">Used for little UI accents.</div>
            </div>
          </div>

          <div class="row gap wrapline">
            <button id="btnNewTeam" class="btn">New team</button>
            <button id="btnSaveTeam" class="btn primary">Save team</button>
            <button id="btnGoRoster" class="btn ghost">Edit roster ‚Üí</button>
          </div>

          <div class="preview">
            <div class="preview-left">
              <img id="teamLogoPreview" class="logo" alt="" />
            </div>
            <div class="preview-right">
              <div class="preview-title" id="teamPreviewTitle">No team selected</div>
              <div class="preview-sub" id="teamPreviewSub">Pick a team from the library or create one.</div>
              <div class="chips" id="teamPreviewChips"></div>
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- ROSTER TAB -->
    <section class="panel" id="tab-roster">
      <div class="grid-2">
        <section class="card">
          <h2>Roster Builder</h2>
          <p class="muted">Add players to the selected team. Mark pitchers, set positions, and use presets to make it fast.</p>

          <div class="row gap">
            <div class="grow">
              <label for="activeTeamSelect">Editing team</label>
              <select id="activeTeamSelect"></select>
            </div>
            <div style="width: 220px;">
              <label for="rosterFilter">Filter roster</label>
              <input id="rosterFilter" placeholder="Search players‚Ä¶" />
            </div>
          </div>

          <hr class="sep" />

          <h3>Add Player</h3>

          <div class="row gap">
            <div class="grow">
              <label for="playerName">Name</label>
              <input id="playerName" placeholder="Scamp" />
            </div>
            <div style="width: 220px;">
              <label for="playerPos">Position</label>
              <select id="playerPos">
                <option value="DH">DH</option>
                <option value="C">C</option>
                <option value="1B">1B</option>
                <option value="2B">2B</option>
                <option value="3B">3B</option>
                <option value="SS">SS</option>
                <option value="LF">LF</option>
                <option value="CF">CF</option>
                <option value="RF">RF</option>
                <option value="P">P</option>
              </select>
            </div>
          </div>

          <div class="row gap">
            <div class="grow">
              <label for="playerPhoto">Photo (JPG/PNG)</label>
              <input id="playerPhoto" type="file" accept="image/*" />
              <div class="muted small">Tip: use a square-ish image for best crop.</div>
            </div>
            <div style="width: 260px;">
              <label for="preset">Preset</label>
              <select id="preset">
                <option value="custom">Custom</option>
                <option value="contact">Contact Hitter</option>
                <option value="slugger">Slugger</option>
                <option value="speedster">Speedster</option>
                <option value="glove">Gold Glove</option>
                <option value="cannon">Cannon Arm</option>
                <option value="ace">Pitching Ace</option>
                <option value="reliever">Reliever</option>
              </select>
              <div class="row gap wrapline">
                <button id="btnRandomStats" class="btn ghost smallbtn">üé≤ Random</button>
                <button id="btnMaxHype" class="btn ghost smallbtn">üî• ‚ÄúHype‚Äù</button>
              </div>
            </div>
          </div>

          <div class="row gap wrapline">
            <label class="check">
              <input id="isPitcher" type="checkbox" />
              <span>Mark as pitcher</span>
            </label>
            <label class="check">
              <input id="isStar" type="checkbox" />
              <span>Star player ‚≠ê</span>
            </label>
          </div>

          <div class="statsGrid">
            <div class="statRow">
              <label>HIT <span class="muted small">(contact)</span></label>
              <input id="HIT" type="range" min="0" max="100" value="70"><span id="HITv">70</span>
            </div>
            <div class="statRow">
              <label>PWR <span class="muted small">(extra bases)</span></label>
              <input id="PWR" type="range" min="0" max="100" value="50"><span id="PWRv">50</span>
            </div>
            <div class="statRow">
              <label>SPD <span class="muted small">(speed)</span></label>
              <input id="SPD" type="range" min="0" max="100" value="60"><span id="SPDv">60</span>
            </div>
            <div class="statRow">
              <label>DEF <span class="muted small">(fielding)</span></label>
              <input id="DEF" type="range" min="0" max="100" value="60"><span id="DEFv">60</span>
            </div>
            <div class="statRow">
              <label>ARM <span class="muted small">(throws)</span></label>
              <input id="ARM" type="range" min="0" max="100" value="55"><span id="ARMv">55</span>
            </div>
            <div class="statRow">
              <label>PIT <span class="muted small">(pitching)</span></label>
              <input id="PIT" type="range" min="0" max="100" value="0"><span id="PITv">0</span>
            </div>
          </div>

          <div class="row gap wrapline">
            <button id="btnAddPlayer" class="btn primary">Add player</button>
            <button id="btnResetPlayerForm" class="btn ghost">Reset form</button>
          </div>

          <div class="notice">
            <strong>Classic mode:</strong> If you don‚Äôt mark a pitcher, the game will automatically use whoever has the highest <em>PIT</em> as pitcher.
          </div>
        </section>

        <section class="card">
          <h2>Current Team Roster</h2>
          <div class="muted small" id="rosterMeta">No team selected.</div>

          <div class="row gap">
            <button id="btnAutoLineup" class="btn ghost">Auto lineup</button>
            <button id="btnShuffleLineup" class="btn ghost">Shuffle</button>
            <button id="btnClearRoster" class="btn danger">Clear roster</button>
          </div>

          <div id="rosterList" class="rosterList"></div>
        </section>
      </div>
    </section>

    <!-- GAME TAB -->
    <section class="panel" id="tab-game">
      <div class="grid-2">
        <section class="card">
          <h2>Choose Teams</h2>

          <div class="row gap">
            <div class="grow">
              <label for="homeTeamSelect">Home</label>
              <select id="homeTeamSelect"></select>
            </div>
            <div class="grow">
              <label for="awayTeamSelect">Away</label>
              <select id="awayTeamSelect"></select>
            </div>
          </div>

          <div class="row gap wrapline">
            <button id="btnNewGame" class="btn primary">Start new game</button>
            <button id="btnSwapTeams" class="btn ghost">Swap</button>
          </div>

          <hr class="sep" />

          <h3>Scoreboard</h3>
          <div class="scoreBox">
            <div id="score">Home 0 ‚Äî 0 Away</div>
            <div class="row gap">
              <div id="inning" class="pill">Inning 1 (Top)</div>
              <div id="outs" class="pill">Outs 0</div>
              <div id="bases" class="pill">Bases: ‚Äî</div>
            </div>
          </div>

          <div class="row gap wrapline">
            <button id="nextPlay" class="btn">Next play</button>
            <button id="simHalf" class="btn">Sim half-inning</button>
            <button id="simGame" class="btn">Sim full game</button>
            <button id="btnResetLog" class="btn ghost">Clear play-by-play</button>
          </div>

          <div class="notice">
            Want more ‚Äústory‚Äù? Add more players, crank up stars, and the game will fire more highlights.
          </div>
        </section>

        <section class="card">
          <h2>Highlight</h2>
          <div class="highlightCard">
            <img id="highlightImg" alt="" />
            <div class="highlightText" id="highlightText">Start a game to see highlights.</div>
          </div>

          <h2 style="margin-top:14px;">Play-by-Play</h2>
          <div id="log" class="log" aria-live="polite"></div>
        </section>
      </div>
    </section>

    <footer class="footer">
      <div class="muted small">
        Saved locally in your browser ‚Ä¢ Export teams for backups ‚Ä¢ Made for big fictional leagues
      </div>
    </footer>
  </main>

<script src="app_v3_1.js"></script>
</body>
</html>
